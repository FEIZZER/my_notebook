### go的 sync/atomic原子操作包

原子操作表现为不可分割的操作， 要么执行要么不执行， 外界是看不到原子操作的之间状态的。

##### 原子操作与互斥操作的区别

- 底层实现不同

  -  atomic中原子操作是由底层硬件指令直接提供的； 指令在执行的过程中是不允许中断的，因此原子操作可以在`lock-free`的情况下保证并发安全，并且它的性能也能做到随`CPU`个数的增多而线性扩展。

  - Mutex由操作系统的调度器实现。

- 目的不同。 Mutex用于保护一段逻辑操作， atomic用于保护对变量的更新。



#### sync/atomic 提供的原子操作

go语言通过内置`sync/atomic`包提供对原子操作的支持，包括（以下`XXType`为：`int32`、`int64`、`uint32`、`uint64`、`uintptr`）：



#### atomic.Value

