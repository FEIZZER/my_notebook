

### int

 

## [IEEE](https://baike.baidu.com/item/IEEE)**二进制浮点数算术标准**（IEEE 754）

下面数据类型的计算规则都是以这个 IEEE标准为参考

### float浮点数

float类型也是4字节数，即32位长度。

#### float的存储方式

float的存储思路是二进制位的科学计数法，$(±)a.b*2^c$ 。float的存储方式是将32位划分成了三个部分：

1. sign位： 第一位。用来不是浮点数是正数还是负数，0表示正，1表示负数。
2. Exponent（8位）。 表示指数的部分，这里并不是直接存储上述公式中的$c$，。为例能同时表示正数和负数，实际存储的是 $c+127$.数据的范围为 [-127,128],但实际上指数位全为1和全为0属于特殊情况。因此指数位表示的数据范围为[-126, 127]
3. Mantissa（24位）：尾数部分。也就是上文中提到的数字$a和b$。尾数部分存储了24位的信息，但是实际上只剩下23 位的空间。我们默认所有非0的数字的**尾数的最高位**都是1，并将该位省略，这样就保存了24位的尾数信息。而要表示数字为0或其他的一些情况时，则需要用到我们刚刚说的指数全为0或1保留位。

##### 以数字 9.5 为例

十进制数字9.5以而二进制的形式表示为 **1001.1**或者 **1.0011E3** 

正数所以首位是0。指数部分是3，所以保存的3+127的二进制。 尾数部分最前面1略去，保存0011后面用0补足。

![image-20211025215842825](基础数据类型.assets/image-20211025215842825.png) 

#### float数据的最大范围

前面提到了指数部分最大的值是127。由于尾数最高位默认为1且省去，尾数部分的最大值尾数 自然是 1.11111111111111111111111 **共24个1**。

float的最大值易得 1.11111111111111111111111E127 *也可由java的Float.MAX_VALUE*显示。

这个这个值的十进制格式为**340282346638528860000000000000000000000.000000** 

#### flaot的精度

##### 整数的精度

由于尾数部分实际只有24位，尾数可以表示的最大值为 **1.11111111111111111111111 ** 小数点后面有23个1。易得可以精确表示的最大整数为（二进制）1.11111111111111111111111E23，即 $2^{23}+2^{22}+2^{21}+...+2^2+2^1+1 = 2^{24}-1$ 。

再看$2^{24}$这个数，由于它是2的整数次幂，所以他也可以由float精确表示 1.00000000000000000000000E24 .直接就可以表示$2^{24}$。但是再看$2^{24}+1$就不能被精确表示了。总结来看float可以精确表示 $[-2^{24},2^{24}]$ 的值。

并且一个数尽管大于 $2^{24}$ ,只要它可以被24个2的n次方相加表示出来，且所有之间相差不能大于24.

##### 小数的精度

由于尾数有23位可以自由赋值，所以可以连续的精确的表示的小数精确度为 $\frac{1}{2}^{23}$ 约等于 ${1.19}*10^{-7}$ 。对于float类型的数据可以通过`flaot a - float b < 1E-6`来判断是否相等。

#### float的特殊值

由于尾数位最高位默认为1且省略，无论**符号位和指数位**怎么取都不能表示0。所以IEEE规定浮点表示中的一些特殊约定，也就是我们前面说的指数位全为0或1的特殊情况：

| 符号位 | 指数位 | 尾数位      | 数值            | 含义                  |
| ------ | ------ | ----------- | --------------- | --------------------- |
| 0      | 全为0  | 全为0       | +0              | 表示0                 |
| 1      | 全为0  | 全为0       | -0              | 表示0                 |
| 0      | 全为0  | 取任意非0值 | $0.f*2^{-126}$  | 非标准值              |
| 1      | 全为0  | 取任意非0值 | $-0.f*2^{-126}$ | 非标准值              |
| 0      | 全为1  | 全为0       | +Infinity       | 正无穷大              |
| 1      | 全为1  | 全为0       | -Infinity       | 负无穷大              |
| 0/1    | 全为1  | 取任意非0值 | NaN             | 非数字 表一些特殊情况 |

#### 总结

float可以表示的最大数范围为[-3.4028235E38, 3.4028235E38] *不精确*。

精确情况下可以表示的最大整数范围为$[-2^{24},2^{24}]$ 

小数可以保证有$1.19*10^{-7}$的精确度。

### double

double类型是8字节数据，占64位。其中**符号位1位**，**指数位11位**，**尾数位52位**。

double能有效表示的整数范围为 $[-2^{52},2^{52}]$ ,小数可以保证有 $\frac{1}{2}^{52} = 2.22*10^{-16}$精度。

##### long double

占128位，许多语言并不接收该类型

